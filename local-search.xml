<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>ä¸€äº›hexoæ¸²æŸ“markdownè¯­æ³•çš„æµ‹è¯•</title>
    <link href="/2023/07/13/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0/"/>
    <url>/2023/07/13/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0/</url>
    
    <content type="html"><![CDATA[<h2 id="chapter1">Chapter1</h2><div class="note note-warning">            <p>Warning æ–‡å­— æˆ–è€… <code>markdown</code> å‡å¯ <em>ä½ åœ¨è¯´ä»€ä¹ˆ</em></p>          </div><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs md">&#123;% note warning %&#125;<br>Warning<br>æ–‡å­— æˆ–è€… <span class="hljs-code">`markdown`</span> å‡å¯<br><span class="hljs-emphasis">*ä½ åœ¨è¯´ä»€ä¹ˆ*</span><br>&#123;% endnote %&#125;<br></code></pre></td></tr></table></figure><h2 id="chapter2">Chapter2</h2><span class="label label-primary">å°æ ‡ç­¾</span><p>å°æ ‡ç­¾æ˜¯ç”¨å¦‚ä¸‹çš„ä»£ç å±•ç°çš„</p><p><code>&#123;% label primary @å°æ ‡ç­¾ %&#125;</code> <figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs autohotkey">è¿™æ˜¯ä½¿ç”¨`blabla`è¡Œé—´ä»£ç å±•ç¤ºçš„<br></code></pre></td></tr></table></figure></p><p>==è¿™ç†åº”æ˜¯ä¸€ä¸ªé«˜äº®, ä½†æ˜¯æ— æ³•å®ç°==</p><p><em>è¿™æ˜¯æ–œä½“</em></p><p><strong>è¿™æ˜¯ç²—ä½“</strong></p><p><strong><em>è¿™æ˜¯ç²—æ–œä½“</em></strong></p><p><del>ä¸æ˜¯</del></p><blockquote><p>æ–‡å­—å¼•ç”¨?</p></blockquote><blockquote><p>ä½ å¥½,æˆ‘æ˜¯å¼•ç”¨ã€‚ &gt; ä½ æ˜¯ å†…åµŒå¼•ç”¨ã€‚ &gt;&gt; ä½ æ˜¯è°</p></blockquote><blockquote><p>å†å†…åµŒã€‚ &gt; è¿”å›åˆ°ç¬¬äºŒå±‚ã€‚</p><p>è¿”å›åˆ°ç¬¬ä¸€å±‚ã€‚</p></blockquote><p>ğŸ§äºŒçº§å¼•ç”¨å¹¶ä¸å¤ªçµ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python">Wheel command line tool (enable python -m wheel syntax)<br><br><span class="hljs-keyword">import</span> sys<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():  <span class="hljs-comment"># needed for console script</span><br>    <span class="hljs-keyword">if</span> __package__ == <span class="hljs-string">&#x27;&#x27;</span>:<br>        <span class="hljs-comment"># To be able to run &#x27;python wheel-0.9.whl/wheel&#x27;:</span><br>        <span class="hljs-keyword">import</span> os.path<br>        path = os.path.dirname(os.path.dirname(__file__))<br>        sys.path[<span class="hljs-number">0</span>:<span class="hljs-number">0</span>] = [path]<br>    <span class="hljs-keyword">import</span> wheel.cli<br>    sys.exit(wheel.cli.main())<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    sys.exit(main())<br></code></pre></td></tr></table></figure><p><span class="math display">\[E=mc^2\]</span></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><br><span class="hljs-comment"># filepath is where the wav recordings store</span><br><br><span class="hljs-comment"># filepath = &#x27;offline-test-data-1-mono&#x27;</span><br><span class="hljs-comment"># filepath = &#x27;offline-test-data-2-stereo-to-mono&#x27;</span><br>filepath = <span class="hljs-string">&quot;offline-test-data-3-stereo&quot;</span><br><span class="hljs-comment"># outpath1 is where the rttm files store</span><br>outpath1 = <span class="hljs-string">&quot;&#123;filepath&#125;/rttm/&quot;</span>.<span class="hljs-built_in">format</span>(filepath=filepath)<br><span class="hljs-comment"># outpath2 is where the sad files store</span><br>outpath2 = <span class="hljs-string">&quot;&#123;filepath&#125;/sad/&quot;</span>.<span class="hljs-built_in">format</span>(filepath=filepath)<br><br><span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(outpath1):<br>    os.mkdir(outpath1)<br><br><span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(outpath2):<br>    os.mkdir(outpath2)<br><br><span class="hljs-comment"># filepath/textgrid is where the textgrid files of recordings store</span><br>files = os.listdir(<span class="hljs-string">&quot;&#123;filepath&#125;/textgrid/&quot;</span>.<span class="hljs-built_in">format</span>(filepath=filepath))<br><br><span class="hljs-comment"># for each textgrid file, extract the speech segments and write them into rttm files</span><br><span class="hljs-keyword">for</span> file <span class="hljs-keyword">in</span> files:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;--------------------&quot;</span>)<br>    filename = file.split(<span class="hljs-string">&quot;.&quot;</span>)[<span class="hljs-number">0</span>]<br>    <span class="hljs-built_in">print</span>(filename)<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<br>        <span class="hljs-string">&quot;&#123;filepath&#125;/textgrid/&#123;file&#125;&quot;</span>.<span class="hljs-built_in">format</span>(filepath=filepath, file=file), <span class="hljs-string">&quot;r&quot;</span><br>    ) <span class="hljs-keyword">as</span> f:<br>        out = []<br>        lines = f.readlines()<br>        lines = [line[:-<span class="hljs-number">1</span>] <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> lines]<br>        <span class="hljs-keyword">for</span> i, line <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(lines):<br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(line) &gt; <span class="hljs-number">2</span> <span class="hljs-keyword">and</span> <span class="hljs-built_in">len</span>(line) &lt; <span class="hljs-number">10</span> <span class="hljs-keyword">and</span> line[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;&quot;&#x27;</span>:<br>                <span class="hljs-keyword">if</span> line[-<span class="hljs-number">1</span>] == <span class="hljs-string">&#x27;&quot;&#x27;</span> <span class="hljs-keyword">and</span> <span class="hljs-keyword">not</span> (<br>                    line == <span class="hljs-string">&#x27;&quot;6&quot;&#x27;</span><br>                    <span class="hljs-keyword">or</span> line == <span class="hljs-string">&#x27;&quot;1&quot;&#x27;</span><br>                    <span class="hljs-keyword">or</span> line == <span class="hljs-string">&#x27;&quot;2&quot;&#x27;</span><br>                    <span class="hljs-keyword">or</span> line == <span class="hljs-string">&#x27;&quot;TextGrid&quot;&#x27;</span><br>                    <span class="hljs-keyword">or</span> line == <span class="hljs-string">&#x27;&quot;IntervalTier&quot;&#x27;</span><br>                    <span class="hljs-keyword">or</span> line == <span class="hljs-string">&#x27;&quot;å…¨å±€å±‚&quot;&#x27;</span><br>                    <span class="hljs-keyword">or</span> line == <span class="hljs-string">&#x27;&quot;æ–‡æœ¬å±‚&quot;&#x27;</span><br>                    <span class="hljs-keyword">or</span> line == <span class="hljs-string">&#x27;&quot;è§’è‰²å±‚&quot;&#x27;</span><br>                    <span class="hljs-keyword">or</span> line == <span class="hljs-string">&#x27;&quot;[ENS]&quot;&#x27;</span><br>                    <span class="hljs-keyword">or</span> line == <span class="hljs-string">&#x27;&quot;[SIL]&quot;&#x27;</span><br>                ):<br>                    <span class="hljs-comment"># if line[1] == &quot;[&quot; or line == &quot;\&quot;+\&quot;&quot;:</span><br>                    <span class="hljs-keyword">if</span> line == <span class="hljs-string">&#x27;&quot;+&quot;&#x27;</span>:<br>                        s = lines[i - <span class="hljs-number">2</span>]<br>                        <span class="hljs-built_in">print</span>(s)<br>                        e = lines[i - <span class="hljs-number">1</span>]<br>                        <span class="hljs-built_in">print</span>(e)<br>                        duration = <span class="hljs-built_in">round</span>((<span class="hljs-built_in">float</span>(e) - <span class="hljs-built_in">float</span>(s)), <span class="hljs-number">3</span>)<br>                        <span class="hljs-built_in">print</span>(duration)<br>                        <span class="hljs-built_in">print</span>(line)<br>                        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot; &quot;</span>)<br>                        outputline1 = <span class="hljs-string">&quot;SPEAKER &#123;filename&#125;_B1 &#123;s&#125; &#123;duration&#125; &lt;NA&gt; &lt;NA&gt; &#123;filename&#125;&#123;speaker&#125; &lt;NA&gt; &lt;NA&gt;\n&quot;</span>.<span class="hljs-built_in">format</span>(<br>                            filename=filename, s=s, duration=duration, speaker=<span class="hljs-string">&quot;+&quot;</span><br>                        )<br>                        <span class="hljs-comment"># print(outputline1)</span><br>                        outputline2 = <span class="hljs-string">&quot;&#123;s&#125; &#123;e&#125; speech\n&quot;</span>.<span class="hljs-built_in">format</span>(s=s, e=e)<br>                        <span class="hljs-comment"># print(outputline2)</span><br>                        <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<br>                            <span class="hljs-string">&quot;&#123;filepath&#125;/rttm_AB_new/&#123;filename&#125;_B.rttm&quot;</span>.<span class="hljs-built_in">format</span>(<br>                                filepath=filepath, filename=filename<br>                            ),<br>                            <span class="hljs-string">&quot;a&quot;</span>,<br>                        ) <span class="hljs-keyword">as</span> f:<br>                            f.write(outputline1)<br>                        <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<br>                            <span class="hljs-string">&quot;&#123;filepath&#125;/sad_AB_new/&#123;filename&#125;_A.lab&quot;</span>.<span class="hljs-built_in">format</span>(<br>                                filepath=filepath, filename=filename<br>                            ),<br>                            <span class="hljs-string">&quot;a&quot;</span>,<br>                        ) <span class="hljs-keyword">as</span> f:<br>                            f.write(outputline2)<br></code></pre></td></tr></table></figure><h2 id="references">references</h2><p><a href="https://www.bilibili.com">bç«™é“¾æ¥</a></p><figure><img src="/img/wallpaper.jpg" title="æµ‹è¯•ä¸€ä¸‹å›¾ç‰‡çš„title"alt="æ’å…¥ä¸€å¼ å›¾ç‰‡" /><figcaption aria-hidden="true">æ’å…¥ä¸€å¼ å›¾ç‰‡</figcaption></figure><figure><img src="/img/test.png" title="çœ‹çœ‹è¾¹æ¡†æ•ˆæœæ€æ ·"alt="æ’å…¥ä¸€å¼ é»‘è‰²å›¾ç‰‡" /><figcaption aria-hidden="true">æ’å…¥ä¸€å¼ é»‘è‰²å›¾ç‰‡</figcaption></figure><figure><img src="/img/dog_logo.png" title="è¿™æ˜¯tabé¡µçš„logoæ"alt="æ’å…¥ä¸€ä¸ªicon, äº®è‰²ä¸»é¢˜ä¸‹ä¼šæœ‰é˜´å½±è¾¹æ¡†" /><figcaption aria-hidden="true">æ’å…¥ä¸€ä¸ªicon,äº®è‰²ä¸»é¢˜ä¸‹ä¼šæœ‰é˜´å½±è¾¹æ¡†</figcaption></figure>]]></content>
    
    
    <categories>
      
      <category>Test</category>
      
      <category>Sondir</category>
      
      <category>Test1</category>
      
    </categories>
    
    
    <tags>
      
      <tag>test</tag>
      
    </tags>
    
  </entry>
  
  
  
  
  
  
  <entry>
    <title>about</title>
    <link href="/"/>
    <url>/</url>
    
    <content type="html"><![CDATA[<p>æˆ‘çš„ä¸»é¡µ--å¾…å†™</p>]]></content>
    
  </entry>
  
  
  
</search>
